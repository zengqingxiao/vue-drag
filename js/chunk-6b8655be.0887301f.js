(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b8655be"],{"0246":function(t,e,n){},"0353":function(t,e,n){},"05b0":function(t,e,n){},"0d03":function(t,e,n){var o=n("e330"),a=n("6eeb"),i=Date.prototype,r="Invalid Date",c="toString",l=o(i[c]),s=o(i.getTime);String(new Date(NaN))!=r&&a(i,c,(function(){var t=s(this);return t===t?l(this):r}))},"0db6":function(t,e,n){},1276:function(t,e,n){"use strict";var o=n("2ba4"),a=n("c65b"),i=n("e330"),r=n("d784"),c=n("44e7"),l=n("825a"),s=n("1d80"),u=n("4840"),h=n("8aa5"),d=n("50c4"),m=n("577e"),f=n("dc4a"),p=n("4dae"),v=n("14c3"),b=n("9263"),y=n("9f7f"),g=n("d039"),x=y.UNSUPPORTED_Y,w=4294967295,S=Math.min,C=[].push,O=i(/./.exec),k=i(C),j=i("".slice),$=!g((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));r("split",(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=m(s(this)),r=void 0===n?w:n>>>0;if(0===r)return[];if(void 0===t)return[i];if(!c(t))return a(e,i,t,r);var l,u,h,d=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,y=new RegExp(t.source,f+"g");while(l=a(b,y,i)){if(u=y.lastIndex,u>v&&(k(d,j(i,v,l.index)),l.length>1&&l.index<i.length&&o(C,d,p(l,1)),h=l[0].length,v=u,d.length>=r))break;y.lastIndex===l.index&&y.lastIndex++}return v===i.length?!h&&O(y,"")||k(d,""):k(d,j(i,v)),d.length>r?p(d,0,r):d}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:a(e,this,t,n)}:e,[function(e,n){var o=s(this),r=void 0==e?void 0:f(e,t);return r?a(r,e,o,n):a(i,m(o),e,n)},function(t,o){var a=l(this),r=m(t),c=n(i,a,r,o,i!==e);if(c.done)return c.value;var s=u(a,RegExp),f=a.unicode,p=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(x?"g":"y"),b=new s(x?"^(?:"+a.source+")":a,p),y=void 0===o?w:o>>>0;if(0===y)return[];if(0===r.length)return null===v(b,r)?[r]:[];var g=0,C=0,O=[];while(C<r.length){b.lastIndex=x?0:C;var $,E=v(b,x?j(r,C):r);if(null===E||($=S(d(b.lastIndex+(x?C:0)),r.length))===g)C=h(r,C,f);else{if(k(O,j(r,g,C)),O.length===y)return O;for(var L=1;L<=E.length-1;L++)if(k(O,E[L]),O.length===y)return O;C=g=$}}return k(O,j(r,g)),O}]}),!$,x)},"14c3":function(t,e,n){var o=n("da84"),a=n("c65b"),i=n("825a"),r=n("1626"),c=n("c6b6"),l=n("9263"),s=o.TypeError;t.exports=function(t,e){var n=t.exec;if(r(n)){var o=a(n,t,e);return null!==o&&i(o),o}if("RegExp"===c(t))return a(l,t,e);throw s("RegExp#exec called on incompatible receiver")}},"25f0":function(t,e,n){"use strict";var o=n("e330"),a=n("5e77").PROPER,i=n("6eeb"),r=n("825a"),c=n("3a9b"),l=n("577e"),s=n("d039"),u=n("ad6d"),h="toString",d=RegExp.prototype,m=d[h],f=o(u),p=s((function(){return"/a/b"!=m.call({source:"a",flags:"b"})})),v=a&&m.name!=h;(p||v)&&i(RegExp.prototype,h,(function(){var t=r(this),e=l(t.source),n=t.flags,o=l(void 0===n&&c(d,t)&&!("flags"in d)?f(t):n);return"/"+e+"/"+o}),{unsafe:!0})},"2c7d":function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return _}));var o,a,i=n("5530"),r=n("ade3"),c=n("4360"),l=n("986e"),s=17,u=91,h=86,d=67,m=88,f=89,p=90,v=71,b=66,y=76,g=85,x=83,w=80,S=68,C=46,O=69,k=[66,67,68,69,71,76,80,83,85,86,88,89,90],j=(o={},Object(r["a"])(o,h,I),Object(r["a"])(o,f,A),Object(r["a"])(o,p,N),Object(r["a"])(o,x,R),Object(r["a"])(o,w,F),Object(r["a"])(o,O,U),o),$=Object(i["a"])(Object(i["a"])({},j),{},Object(r["a"])({},g,X)),E=Object(i["a"])(Object(i["a"])({},j),{},(a={},Object(r["a"])(a,d,D),Object(r["a"])(a,m,M),Object(r["a"])(a,v,P),Object(r["a"])(a,b,T),Object(r["a"])(a,S,Y),Object(r["a"])(a,C,Y),Object(r["a"])(a,y,G),a)),L=!1;function _(){window.onkeydown=function(t){if(c["a"].state.isInEdiotr){var e=c["a"].state.curComponent,n=t.keyCode;n===s||n===u?L=!0:n==C&&e?(c["a"].commit("deleteComponent"),c["a"].commit("recordSnapshot")):L&&(!E[n]||e&&e.isLock?$[n]&&e&&e.isLock&&(t.preventDefault(),$[n]()):(t.preventDefault(),E[n]()))}},window.onkeyup=function(t){t.keyCode!==s&&t.keyCode!==u||(L=!1)},window.onmousedown=function(){c["a"].commit("setInEditorStatus",!1)}}function D(){c["a"].commit("copy")}function I(){c["a"].commit("paste"),c["a"].commit("recordSnapshot")}function M(){c["a"].commit("cut")}function A(){c["a"].commit("redo")}function N(){c["a"].commit("undo")}function P(){c["a"].state.areaData.components.length&&(c["a"].commit("compose"),c["a"].commit("recordSnapshot"))}function T(){var t=c["a"].state.curComponent;t&&!t.isLock&&"Group"==t.component&&(c["a"].commit("decompose"),c["a"].commit("recordSnapshot"))}function R(){l["a"].$emit("save")}function F(){l["a"].$emit("preview")}function Y(){c["a"].state.curComponent&&(c["a"].commit("deleteComponent"),c["a"].commit("recordSnapshot"))}function U(){l["a"].$emit("clearCanvas")}function G(){c["a"].commit("lock")}function X(){c["a"].commit("unlock")}},"3b34":function(t,e,n){},"408a":function(t,e,n){var o=n("e330");t.exports=o(1..valueOf)},4795:function(t,e,n){var o=n("23e7"),a=n("da84"),i=n("2ba4"),r=n("1626"),c=n("342f"),l=n("f36a"),s=n("d6d6"),u=/MSIE .\./.test(c),h=a.Function,d=function(t){return function(e,n){var o=s(arguments.length,1)>2,a=r(e)?e:h(e),c=o?l(arguments,2):void 0;return t(o?function(){i(a,this,c)}:a,n)}};o({global:!0,bind:!0,forced:u},{setTimeout:d(a.setTimeout),setInterval:d(a.setInterval)})},"49e8":function(t,e,n){},"4b7d":function(t,e,n){"use strict";n("f87d")},"4e72":function(t,e,n){"use strict";n("5359")},5339:function(t,e,n){"use strict";n("3b34")},5359:function(t,e,n){},5586:function(t,e,n){"use strict";n("05b0")},"5c43":function(t,e,n){},"5fc1":function(t,e,n){"use strict";n("a9eb")},6637:function(t,e,n){"use strict";n("0246")},"6d16":function(t,e,n){"use strict";n("49e8")},"7e6f":function(t,e,n){"use strict";n("5c43")},"847a":function(t,e,n){},"8aa5":function(t,e,n){"use strict";var o=n("6547").charAt;t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},"8c51":function(t,e,n){"use strict";n("0db6")},"8cab":function(t,e,n){"use strict";n("0353")},"969e":function(t,e,n){},"96cf":function(t,e,n){var o=function(t){"use strict";var e,n=Object.prototype,o=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(I){l=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),r=new L(o||[]);return i._invoke=k(t,n,r),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=s;var h="suspendedStart",d="suspendedYield",m="executing",f="completed",p={};function v(){}function b(){}function y(){}var g={};l(g,i,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(_([])));w&&w!==n&&o.call(w,i)&&(g=w);var S=y.prototype=v.prototype=Object.create(g);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(a,i,r,c){var l=u(t[a],t,i);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"===typeof h&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,r,c)}),(function(t){n("throw",t,r,c)})):e.resolve(h).then((function(t){s.value=t,r(s)}),(function(t){return n("throw",t,r,c)}))}c(l.arg)}var a;function i(t,o){function i(){return new e((function(e,a){n(t,o,e,a)}))}return a=a?a.then(i,i):i()}this._invoke=i}function k(t,e,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===f){if("throw"===a)throw i;return D()}n.method=a,n.arg=i;while(1){var r=n.delegate;if(r){var c=j(r,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=u(t,e,n);if("normal"===l.type){if(o=n.done?f:d,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=f,n.method="throw",n.arg=l.arg)}}}function j(t,n){var o=t.iterator[n.method];if(o===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=u(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function _(t){if(t){var n=t[i];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){while(++a<t.length)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}return{next:D}}function D(){return{value:e,done:!0}}return b.prototype=y,l(S,"constructor",y),l(y,"constructor",b),b.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},C(O.prototype),l(O.prototype,r,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,o,a,i){void 0===i&&(i=Promise);var r=new O(s(e,n,o,a),i);return t.isGeneratorFunction(n)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},C(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return c.type="throw",c.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],c=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var l=o.call(r,"catchLoc"),s=o.call(r,"finallyLoc");if(l&&s){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=t,r.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:_(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=o}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},a0db:function(t,e,n){"use strict";n("847a")},a0f8:function(t,e,n){},a3cd:function(t,e,n){"use strict";n("a9f9")},a7ed:function(t,e,n){"use strict";n("969e")},a9e3:function(t,e,n){"use strict";var o=n("83ab"),a=n("da84"),i=n("e330"),r=n("94ca"),c=n("6eeb"),l=n("1a2d"),s=n("7156"),u=n("3a9b"),h=n("d9b5"),d=n("c04e"),m=n("d039"),f=n("241c").f,p=n("06cf").f,v=n("9bf2").f,b=n("408a"),y=n("58a8").trim,g="Number",x=a[g],w=x.prototype,S=a.TypeError,C=i("".slice),O=i("".charCodeAt),k=function(t){var e=d(t,"number");return"bigint"==typeof e?e:j(e)},j=function(t){var e,n,o,a,i,r,c,l,s=d(t,"number");if(h(s))throw S("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=y(s),e=O(s,0),43===e||45===e){if(n=O(s,2),88===n||120===n)return NaN}else if(48===e){switch(O(s,1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+s}for(i=C(s,2),r=i.length,c=0;c<r;c++)if(l=O(i,c),l<48||l>a)return NaN;return parseInt(i,o)}return+s};if(r(g,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var $,E=function(t){var e=arguments.length<1?0:x(k(t)),n=this;return u(w,n)&&m((function(){b(n)}))?s(Object(e),n,E):e},L=o?f(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),_=0;L.length>_;_++)l(x,$=L[_])&&!l(E,$)&&v(E,$,p(x,$));E.prototype=w,w.constructor=E,c(a,g,E)}},a9eb:function(t,e,n){},a9f9:function(t,e,n){},bb51:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Toolbar"),n("main",[n("div",{staticClass:"left"},[n("ComponentList")],1),n("div",{staticClass:"center"},[n("div",{staticClass:"content",on:{drop:t.handleDrop,dragover:t.handleDragOver,mousedown:t.handleMouseDown,mouseup:t.deselectCurComponent}},[n("Editor")],1),n("div",{staticClass:"adjustment"},[n("div",{staticClass:"slider"},[n("span",{staticClass:"label"},[t._v("画布比例：")]),n("div",{staticClass:"main"},[n("el-slider",{attrs:{max:200},on:{input:t.handleScaleChange},model:{value:t.scale,callback:function(e){t.scale=e},expression:"scale"}})],1)])])]),n("div",{staticClass:"right"},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"属性",name:"attr"}},[t.curComponent?n("AttrList"):n("p",{staticClass:"placeholder"},[t._v("请选择组件")])],1),n("el-tab-pane",{attrs:{label:"动画",name:"animation"}},[t.curComponent?n("AnimationList"):n("p",{staticClass:"placeholder"},[t._v("请选择组件")])],1),n("el-tab-pane",{attrs:{label:"事件",name:"events"}},[t.curComponent?n("EventList"):n("p",{staticClass:"placeholder"},[t._v("请选择组件")])],1)],1)],1)])],1)},a=[],i=n("5530"),r=(n("4160"),n("d3b7"),n("159b"),n("acd8"),n("4795"),n("b64b"),n("caad"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor",class:{edit:t.isEdit},style:{width:t.changeStyleWithScale(t.canvasStyleData.width)+"px",height:t.changeStyleWithScale(t.canvasStyleData.height)+"px"},attrs:{id:"editor"},on:{contextmenu:t.handleContextMenu,mousedown:t.handleMouseDown}},[n("Grid"),t._l(t.componentData,(function(e,o){return n("Shape",{key:e.id,class:{lock:e.isLock},style:t.getShapeStyle(e.style),attrs:{"default-style":e.style,active:e.id===(t.curComponent||{}).id,element:e,index:o}},["v-text"!=e.component?n(e.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(e.style),attrs:{id:"component"+e.id,"prop-value":e.propValue,element:e}}):n(e.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(e.style),attrs:{id:"component"+e.id,"prop-value":e.propValue,element:e},on:{input:t.handleInput}})],1)})),n("ContextMenu"),n("MarkLine"),n("Area",{directives:[{name:"show",rawName:"v-show",value:t.isShowArea,expression:"isShowArea"}],attrs:{start:t.start,width:t.width,height:t.height}})],2)}),c=[],l=(n("ac1f"),n("1276"),n("2f62")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shape",class:{active:t.active},on:{click:t.selectCurComponent,mousedown:t.handleMouseDownOnShape}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isActive(),expression:"isActive()"}],staticClass:"iconfont icon-xiangyouxuanzhuan",on:{mousedown:t.handleRotate}}),n("span",{directives:[{name:"show",rawName:"v-show",value:t.element.isLock,expression:"element.isLock"}],staticClass:"iconfont icon-suo"}),t._l(t.isActive()?t.pointList:[],(function(e){return n("div",{key:e,staticClass:"shape-point",style:t.getPointStyle(e),on:{mousedown:function(n){return t.handleMouseDownOnPoint(e,n)}}})})),t._t("default")],2)},u=[],h=(n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),n("277d"),n("d9e2"),n("d401"),n("06c5"));function d(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(h["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){c=!0,i=t},f:function(){try{r||null==n["return"]||n["return"]()}finally{if(c)throw i}}}}n("a9e3"),n("00b4"),n("e25e");var m=n("986e");function f(t,e,n,o,a,i,r){try{var c=t[i](r),l=c.value}catch(s){return void n(s)}c.done?e(l):Promise.resolve(l).then(o,a)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function r(t){f(i,o,a,r,c,"next",t)}function c(t){f(i,o,a,r,c,"throw",t)}r(void 0)}))}}n("96cf");function v(t){return b.apply(this,arguments)}function b(){return b=p(regeneratorRuntime.mark((function t(e){var n,o,a,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:[],o=function(t){return new Promise((function(n){var o=t.animationTime,a=t.value,i=void 0===a?"":a,r=t.isLoop;e.style.setProperty("--time",o+"s"),e.classList.add(i,"animated",y(r));var c=function t(){e.removeEventListener("animationend",t),e.removeEventListener("animationcancel",t),e.classList.remove(i,"animated",y(r)),e.style.removeProperty("--time"),n()};e.addEventListener("animationend",c),e.addEventListener("animationcancel",c)}))},a=0,i=n.length;case 3:if(!(a<i)){t.next=9;break}return t.next=6,o(n[a]);case 6:a++,t.next=3;break;case 9:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function y(t){return t?"infinite":"no-infinite"}var g=n("a2ba"),x={lt:w,t:k,rt:S,r:j,rb:C,b:$,lb:O,l:E};function w(t,e,n,o,a){var i=a.symmetricPoint,r=Object(g["d"])(e,i),c=Object(g["a"])(e,r,-t.rotate),l=Object(g["a"])(i,r,-t.rotate),s=l.x-c.x,u=l.y-c.y;if(o){s/u>n?(c.x+=Math.abs(s-u*n),s=u*n):(c.y+=Math.abs(u-s/n),u=s/n);var h=Object(g["a"])(c,r,t.rotate);r=Object(g["d"])(h,i),c=Object(g["a"])(h,r,-t.rotate),l=Object(g["a"])(i,r,-t.rotate),s=l.x-c.x,u=l.y-c.y}s>0&&u>0&&(t.width=Math.round(s),t.height=Math.round(u),t.left=Math.round(c.x),t.top=Math.round(c.y))}function S(t,e,n,o,a){var i=a.symmetricPoint,r=Object(g["d"])(e,i),c=Object(g["a"])(e,r,-t.rotate),l=Object(g["a"])(i,r,-t.rotate),s=c.x-l.x,u=l.y-c.y;if(o){s/u>n?(c.x-=Math.abs(s-u*n),s=u*n):(c.y+=Math.abs(u-s/n),u=s/n);var h=Object(g["a"])(c,r,t.rotate);r=Object(g["d"])(h,i),c=Object(g["a"])(h,r,-t.rotate),l=Object(g["a"])(i,r,-t.rotate),s=c.x-l.x,u=l.y-c.y}s>0&&u>0&&(t.width=Math.round(s),t.height=Math.round(u),t.left=Math.round(l.x),t.top=Math.round(c.y))}function C(t,e,n,o,a){var i=a.symmetricPoint,r=Object(g["d"])(e,i),c=Object(g["a"])(i,r,-t.rotate),l=Object(g["a"])(e,r,-t.rotate),s=l.x-c.x,u=l.y-c.y;if(o){s/u>n?(l.x-=Math.abs(s-u*n),s=u*n):(l.y-=Math.abs(u-s/n),u=s/n);var h=Object(g["a"])(l,r,t.rotate);r=Object(g["d"])(h,i),c=Object(g["a"])(i,r,-t.rotate),l=Object(g["a"])(h,r,-t.rotate),s=l.x-c.x,u=l.y-c.y}s>0&&u>0&&(t.width=Math.round(s),t.height=Math.round(u),t.left=Math.round(c.x),t.top=Math.round(c.y))}function O(t,e,n,o,a){var i=a.symmetricPoint,r=Object(g["d"])(e,i),c=Object(g["a"])(i,r,-t.rotate),l=Object(g["a"])(e,r,-t.rotate),s=c.x-l.x,u=l.y-c.y;if(o){s/u>n?(l.x+=Math.abs(s-u*n),s=u*n):(l.y-=Math.abs(u-s/n),u=s/n);var h=Object(g["a"])(l,r,t.rotate);r=Object(g["d"])(h,i),c=Object(g["a"])(i,r,-t.rotate),l=Object(g["a"])(h,r,-t.rotate),s=c.x-l.x,u=l.y-c.y}s>0&&u>0&&(t.width=Math.round(s),t.height=Math.round(u),t.left=Math.round(l.x),t.top=Math.round(c.y))}function k(t,e,n,o,a){var i=a.symmetricPoint,r=a.curPoint,c=Object(g["a"])(e,r,-t.rotate),l=Object(g["a"])({x:r.x,y:c.y},r,t.rotate),s=Math.sqrt(Math.pow(l.x-i.x,2)+Math.pow(l.y-i.y,2)),u={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2},h=t.width;o&&(h=s*n),t.width=h,t.height=Math.round(s),t.top=Math.round(u.y-s/2),t.left=Math.round(u.x-t.width/2)}function j(t,e,n,o,a){var i=a.symmetricPoint,r=a.curPoint,c=Object(g["a"])(e,r,-t.rotate),l=Object(g["a"])({x:c.x,y:r.y},r,t.rotate),s=Math.sqrt(Math.pow(l.x-i.x,2)+Math.pow(l.y-i.y,2)),u={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2},h=t.height;o&&(h=s/n),t.height=h,t.width=Math.round(s),t.top=Math.round(u.y-t.height/2),t.left=Math.round(u.x-s/2)}function $(t,e,n,o,a){var i=a.symmetricPoint,r=a.curPoint,c=Object(g["a"])(e,r,-t.rotate),l=Object(g["a"])({x:r.x,y:c.y},r,t.rotate),s=Math.sqrt(Math.pow(l.x-i.x,2)+Math.pow(l.y-i.y,2)),u={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2},h=t.width;o&&(h=s*n),t.width=h,t.height=Math.round(s),t.top=Math.round(u.y-s/2),t.left=Math.round(u.x-t.width/2)}function E(t,e,n,o,a){var i=a.symmetricPoint,r=a.curPoint,c=Object(g["a"])(e,r,-t.rotate),l=Object(g["a"])({x:c.x,y:r.y},r,t.rotate),s=Math.sqrt(Math.pow(l.x-i.x,2)+Math.pow(l.y-i.y,2)),u={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2},h=t.height;o&&(h=s/n),t.height=h,t.width=Math.round(s),t.top=Math.round(u.y-t.height/2),t.left=Math.round(u.x-s/2)}function L(t,e,n,o,a,i){x[t](e,n,o,a,i)}var _={props:{active:{type:Boolean,default:!1},element:{require:!0,type:Object,default:function(){}},defaultStyle:{require:!0,type:Object,default:function(){}},index:{require:!0,type:[Number,String],default:0}},data:function(){return{pointList:["lt","t","rt","r","rb","b","lb","l"],initialAngle:{lt:0,t:45,rt:90,r:135,rb:180,b:225,lb:270,l:315},angleToCursor:[{start:338,end:23,cursor:"nw"},{start:23,end:68,cursor:"n"},{start:68,end:113,cursor:"ne"},{start:113,end:158,cursor:"e"},{start:158,end:203,cursor:"se"},{start:203,end:248,cursor:"s"},{start:248,end:293,cursor:"sw"},{start:293,end:338,cursor:"w"}],cursors:{}}},computed:Object(l["b"])(["curComponent","editor"]),mounted:function(){var t=this;this.curComponent&&(this.cursors=this.getCursor()),m["a"].$on("runAnimation",(function(){t.element==t.curComponent&&v(t.$el,t.curComponent.animations)})),m["a"].$on("stopAnimation",(function(){t.$el.classList.remove("animated","infinite")}))},methods:{isActive:function(){return this.active&&!this.element.isLock},handleRotate:function(t){var e=this;this.$store.commit("setClickComponentStatus",!0),t.preventDefault(),t.stopPropagation();var n=Object(i["a"])({},this.defaultStyle),o=t.clientY,a=t.clientX,r=n.rotate,c=this.$el.getBoundingClientRect(),l=c.left+c.width/2,s=c.top+c.height/2,u=Math.atan2(o-s,a-l)/(Math.PI/180),h=!1,d=function(t){h=!0;var o=t.clientX,a=t.clientY,i=Math.atan2(a-s,o-l)/(Math.PI/180);n.rotate=r+i-u,e.$store.commit("setShapeStyle",n)},m=function t(){h&&e.$store.commit("recordSnapshot"),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",t),e.cursors=e.getCursor()};document.addEventListener("mousemove",d),document.addEventListener("mouseup",m)},getPointStyle:function(t){var e=this.defaultStyle,n=e.width,o=e.height,a=/t/.test(t),i=/b/.test(t),r=/l/.test(t),c=/r/.test(t),l=0,s=0;2===t.length?(l=r?0:n,s=a?0:o):((a||i)&&(l=n/2,s=a?0:o),(r||c)&&(l=r?0:n,s=Math.floor(o/2)));var u={marginLeft:"-4px",marginTop:"-4px",left:"".concat(l,"px"),top:"".concat(s,"px"),cursor:this.cursors[t]};return u},getCursor:function(){var t=this.angleToCursor,e=this.initialAngle,n=this.pointList,o=this.curComponent,a=Object(g["e"])(o.style.rotate),i={},r=-1;return n.forEach((function(n){var o=Object(g["e"])(e[n]+a),c=t.length;while(1){r=(r+1)%c;var l=t[r];if(o<23||o>=338)return void(i[n]="nw-resize");if(l.start<=o&&o<l.end)return void(i[n]=l.cursor+"-resize")}})),i},handleMouseDownOnShape:function(t){var e=this;if(this.$store.commit("setInEditorStatus",!0),this.$store.commit("setClickComponentStatus",!0),"v-text"!=this.element.component&&"rect-shape"!=this.element.component&&t.preventDefault(),t.stopPropagation(),this.$store.commit("setCurComponent",{component:this.element,index:this.index}),!this.element.isLock){this.cursors=this.getCursor();var n=Object(i["a"])({},this.defaultStyle),o=t.clientY,a=t.clientX,r=Number(n.top),c=Number(n.left),l=!1,s=function(t){l=!0;var i=t.clientX,s=t.clientY;n.top=s-o+r,n.left=i-a+c,e.$store.commit("setShapeStyle",n),e.$nextTick((function(){m["a"].$emit("move",s-o>0,i-a>0)}))},u=function t(){l&&e.$store.commit("recordSnapshot"),m["a"].$emit("unmove"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",u)}},selectCurComponent:function(t){t.stopPropagation(),t.preventDefault(),this.$store.commit("hideContextMenu")},handleMouseDownOnPoint:function(t,e){var n=this;this.$store.commit("setInEditorStatus",!0),this.$store.commit("setClickComponentStatus",!0),e.stopPropagation(),e.preventDefault();var o=Object(i["a"])({},this.defaultStyle),a=o.width/o.height,r={x:o.left+o.width/2,y:o.top+o.height/2},c=this.editor.getBoundingClientRect(),l=e.target.getBoundingClientRect(),s={x:Math.round(l.left-c.left+e.target.offsetWidth/2),y:Math.round(l.top-c.top+e.target.offsetHeight/2)},u={x:r.x-(s.x-r.x),y:r.y-(s.y-r.y)},h=!1,d=!0,m=this.isNeedLockProportion(),f=function(e){if(d)d=!1;else{h=!0;var i={x:e.clientX-c.left,y:e.clientY-c.top};L(t,o,i,a,m,{center:r,curPoint:s,symmetricPoint:u}),n.$store.commit("setShapeStyle",o)}},p=function t(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",t),h&&n.$store.commit("recordSnapshot")};document.addEventListener("mousemove",f),document.addEventListener("mouseup",p)},isNeedLockProportion:function(){if("Group"!=this.element.component)return!1;var t,e=[0,90,180,360],n=d(this.element.propValue);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(!e.includes(Object(g["e"])(parseInt(o.style.rotate))))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}}},D=_,I=(n("fc1a"),n("2877")),M=Object(I["a"])(D,s,u,!1,null,"d6a69e58",null),A=M.exports,N=n("a7f7"),P=n("fa7d"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"menuShow"}],staticClass:"contextmenu",style:{top:t.menuTop+"px",left:t.menuLeft+"px"}},[n("ul",{on:{mouseup:t.handleMouseUp}},[t.curComponent?[t.curComponent.isLock?n("li",{on:{click:t.unlock}},[t._v("解锁")]):[n("li",{on:{click:t.copy}},[t._v("复制")]),n("li",{on:{click:t.paste}},[t._v("粘贴")]),n("li",{on:{click:t.cut}},[t._v("剪切")]),n("li",{on:{click:t.deleteComponent}},[t._v("删除")]),n("li",{on:{click:t.lock}},[t._v("锁定")]),n("li",{on:{click:t.topComponent}},[t._v("置顶")]),n("li",{on:{click:t.bottomComponent}},[t._v("置底")]),n("li",{on:{click:t.upComponent}},[t._v("上移")]),n("li",{on:{click:t.downComponent}},[t._v("下移")])]]:n("li",{on:{click:t.paste}},[t._v("粘贴")])],2)])},R=[],F={data:function(){return{copyData:null}},computed:Object(l["b"])(["menuTop","menuLeft","menuShow","curComponent"]),methods:{lock:function(){this.$store.commit("lock")},unlock:function(){this.$store.commit("unlock")},handleMouseUp:function(){this.$store.commit("setClickComponentStatus",!0)},cut:function(){this.$store.commit("cut")},copy:function(){this.$store.commit("copy")},paste:function(){this.$store.commit("paste",!0),this.$store.commit("recordSnapshot")},deleteComponent:function(){this.$store.commit("deleteComponent"),this.$store.commit("recordSnapshot")},upComponent:function(){this.$store.commit("upComponent"),this.$store.commit("recordSnapshot")},downComponent:function(){this.$store.commit("downComponent"),this.$store.commit("recordSnapshot")},topComponent:function(){this.$store.commit("topComponent"),this.$store.commit("recordSnapshot")},bottomComponent:function(){this.$store.commit("bottomComponent"),this.$store.commit("recordSnapshot")}}},Y=F,U=(n("8c51"),Object(I["a"])(Y,T,R,!1,null,"ff223a58",null)),G=U.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mark-line"},t._l(t.lines,(function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.lineStatus[e]||!1,expression:"lineStatus[line] || false"}],key:e,ref:e,refInFor:!0,staticClass:"line",class:e.includes("x")?"xline":"yline"})})),0)},B=[],V={data:function(){return{lines:["xt","xc","xb","yl","yc","yr"],diff:3,lineStatus:{xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}}},computed:Object(l["b"])(["curComponent","componentData"]),mounted:function(){var t=this;m["a"].$on("move",(function(e,n){t.showLine(e,n)})),m["a"].$on("unmove",(function(){t.hideLine()}))},methods:{hideLine:function(){var t=this;Object.keys(this.lineStatus).forEach((function(e){t.lineStatus[e]=!1}))},showLine:function(t,e){var n=this,o=this.$refs,a=this.componentData,i=Object(N["a"])(this.curComponent.style),r=i.width/2,c=i.height/2;this.hideLine(),a.forEach((function(a){if(a!=n.curComponent){var l=Object(N["a"])(a.style),s=l.top,u=l.left,h=l.bottom,d=l.right,m=l.width/2,f=l.height/2,p={top:[{isNearly:n.isNearly(i.top,s),lineNode:o.xt[0],line:"xt",dragShift:s,lineShift:s},{isNearly:n.isNearly(i.bottom,s),lineNode:o.xt[0],line:"xt",dragShift:s-i.height,lineShift:s},{isNearly:n.isNearly(i.top+c,s+f),lineNode:o.xc[0],line:"xc",dragShift:s+f-c,lineShift:s+f},{isNearly:n.isNearly(i.top,h),lineNode:o.xb[0],line:"xb",dragShift:h,lineShift:h},{isNearly:n.isNearly(i.bottom,h),lineNode:o.xb[0],line:"xb",dragShift:h-i.height,lineShift:h}],left:[{isNearly:n.isNearly(i.left,u),lineNode:o.yl[0],line:"yl",dragShift:u,lineShift:u},{isNearly:n.isNearly(i.right,u),lineNode:o.yl[0],line:"yl",dragShift:u-i.width,lineShift:u},{isNearly:n.isNearly(i.left+r,u+m),lineNode:o.yc[0],line:"yc",dragShift:u+m-r,lineShift:u+m},{isNearly:n.isNearly(i.left,d),lineNode:o.yr[0],line:"yr",dragShift:d,lineShift:d},{isNearly:n.isNearly(i.right,d),lineNode:o.yr[0],line:"yr",dragShift:d-i.width,lineShift:d}]},v=[],b=n.curComponent.style.rotate;Object.keys(p).forEach((function(t){p[t].forEach((function(e){e.isNearly&&(n.$store.commit("setShapeSingleStyle",{key:t,value:0!=b?n.translatecurComponentShift(t,e,i):e.dragShift}),e.lineNode.style[t]="".concat(e.lineShift,"px"),v.push(e.line))}))})),v.length&&n.chooseTheTureLine(v,t,e)}}))},translatecurComponentShift:function(t,e,n){var o=this.curComponent.style,a=o.width,i=o.height;return"top"==t?Math.round(e.dragShift-(i-n.height)/2):Math.round(e.dragShift-(a-n.width)/2)},chooseTheTureLine:function(t,e,n){n?t.includes("yr")?this.lineStatus.yr=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yl")&&(this.lineStatus.yl=!0):t.includes("yl")?this.lineStatus.yl=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yr")&&(this.lineStatus.yr=!0),e?t.includes("xb")?this.lineStatus.xb=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xt")&&(this.lineStatus.xt=!0):t.includes("xt")?this.lineStatus.xt=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xb")&&(this.lineStatus.xb=!0)},isNearly:function(t,e){return Math.abs(t-e)<=this.diff}}},z=V,q=(n("4e72"),Object(I["a"])(z,X,B,!1,null,"475239c0",null)),W=q.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"area",style:{left:t.start.x+"px",top:t.start.y+"px",width:t.width+"px",height:t.height+"px"}})},J=[],K={props:{start:{type:Object,default:function(){}},width:{type:Number,default:0},height:{type:Number,default:0}}},Z=K,Q=(n("7e6f"),Object(I["a"])(Z,H,J,!1,null,"30e7b1c2",null)),tt=Q.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"grid",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"}},[n("defs",[n("pattern",{attrs:{id:"smallGrid",width:"7.236328125",height:"7.236328125",patternUnits:"userSpaceOnUse"}},[n("path",{attrs:{d:"M 7.236328125 0 L 0 0 0 7.236328125",fill:"none",stroke:"rgba(207, 207, 207, 0.3)","stroke-width":"1"}})]),n("pattern",{attrs:{id:"grid",width:"36.181640625",height:"36.181640625",patternUnits:"userSpaceOnUse"}},[n("rect",{attrs:{width:"36.181640625",height:"36.181640625",fill:"url(#smallGrid)"}}),n("path",{attrs:{d:"M 36.181640625 0 L 0 0 0 36.181640625",fill:"none",stroke:"rgba(186, 186, 186, 0.5)","stroke-width":"1"}})])]),n("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})])},nt=[],ot=(n("5fc1"),{}),at=Object(I["a"])(ot,et,nt,!1,null,"39ef9482",null),it=at.exports,rt={components:{Shape:A,ContextMenu:G,MarkLine:W,Area:tt,Grid:it},props:{isEdit:{type:Boolean,default:!0}},data:function(){return{editorX:0,editorY:0,start:{x:0,y:0},width:0,height:0,isShowArea:!1}},computed:Object(l["b"])(["componentData","curComponent","canvasStyleData","editor"]),mounted:function(){var t=this;this.$store.commit("getEditor"),m["a"].$on("hideArea",(function(){t.hideArea()}))},methods:{changeStyleWithScale:g["b"],handleMouseDown:function(t){var e=this;(!this.curComponent||"v-text"!=this.curComponent.component&&"rect-shape"!=this.curComponent.component)&&t.preventDefault(),this.hideArea();var n=this.editor.getBoundingClientRect();this.editorX=n.x,this.editorY=n.y;var o=t.clientX,a=t.clientY;this.start.x=o-this.editorX,this.start.y=a-this.editorY,this.isShowArea=!0;var i=function(t){e.width=Math.abs(t.clientX-o),e.height=Math.abs(t.clientY-a),t.clientX<o&&(e.start.x=t.clientX-e.editorX),t.clientY<a&&(e.start.y=t.clientY-e.editorY)},r=function t(n){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",t),n.clientX!=o||n.clientY!=a?e.createGroup():e.hideArea()};document.addEventListener("mousemove",i),document.addEventListener("mouseup",r)},hideArea:function(){this.isShowArea=0,this.width=0,this.height=0,this.$store.commit("setAreaData",{style:{left:0,top:0,width:0,height:0},components:[]})},createGroup:function(){var t=this,e=this.getSelectArea();if(e.length<=1)this.hideArea();else{var n=1/0,o=1/0,a=-1/0,i=-1/0;e.forEach((function(e){var r={};"Group"==e.component?e.propValue.forEach((function(e){var c=Object(P["a"])("#component".concat(e.id)).getBoundingClientRect();r.left=c.left-t.editorX,r.top=c.top-t.editorY,r.right=c.right-t.editorX,r.bottom=c.bottom-t.editorY,r.left<o&&(o=r.left),r.top<n&&(n=r.top),r.right>a&&(a=r.right),r.bottom>i&&(i=r.bottom)})):r=Object(N["a"])(e.style),r.left<o&&(o=r.left),r.top<n&&(n=r.top),r.right>a&&(a=r.right),r.bottom>i&&(i=r.bottom)})),this.start.x=o,this.start.y=n,this.width=a-o,this.height=i-n,this.$store.commit("setAreaData",{style:{left:o,top:n,width:this.width,height:this.height},components:e})}},getSelectArea:function(){var t=this,e=[],n=this.start,o=n.x,a=n.y;return this.componentData.forEach((function(n){if(!n.isLock){var i=Object(N["a"])(n.style),r=i.left,c=i.top,l=i.width,s=i.height;o<=r&&a<=c&&r+l<=o+t.width&&c+s<=a+t.height&&e.push(n)}})),e},handleContextMenu:function(t){t.stopPropagation(),t.preventDefault(),console.log(t,"点击 快捷---");var e=t.target,n=t.offsetY,o=t.offsetX;while(e instanceof SVGElement)e=e.parentNode;while(!e.className.includes("editor"))o+=e.offsetLeft,n+=e.offsetTop,e=e.parentNode;this.$store.commit("showContextMenu",{top:n,left:o})},getShapeStyle:function(t){var e={};return["width","height","top","left","rotate"].forEach((function(n){"rotate"!=n?e[n]=t[n]+"px":e.transform="rotate("+t[n]+"deg)"})),e},getComponentStyle:function(t){return Object(N["b"])(t,["top","left","width","height","rotate"])},handleInput:function(t,e){this.$store.commit("setShapeStyle",{height:this.getTextareaHeight(t,e)})},getTextareaHeight:function(t,e){var n=t.style,o=n.lineHeight,a=n.fontSize,i=n.height;""===o&&(o=1.5);var r=(e.split("<br>").length-1)*o*a;return i>r?i:r}}},ct=rt,lt=(n("c3f9"),Object(I["a"])(ct,r,c,!1,null,"14a4154c",null)),st=lt.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-list",on:{dragstart:t.handleDragStart}},t._l(t.componentList,(function(e,o){return n("div",{key:o,staticClass:"list",attrs:{draggable:"","data-index":o}},[n("span",{staticClass:"iconfont",class:"icon-"+e.icon}),n("span",[t._v(t._s(e.label))])])})),0)},ht=[],dt=n("4e67"),mt={data:function(){return{componentList:dt["default"]}},methods:{handleDragStart:function(t){t.dataTransfer.setData("index",t.target.dataset.index)}}},ft=mt,pt=(n("4b7d"),Object(I["a"])(ft,ut,ht,!1,null,"4f77ccd8",null)),vt=pt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"attr-list"},[n("el-form",[t._l(t.styleKeys,(function(e,o){var a=e.key,i=e.label;return n("el-form-item",{key:o,attrs:{label:i}},["borderColor"==a||"color"==a||"backgroundColor"==a?n("el-color-picker",{model:{value:t.curComponent.style[a],callback:function(e){t.$set(t.curComponent.style,a,e)},expression:"curComponent.style[key]"}}):t.selectKey.includes(a)?n("el-select",{model:{value:t.curComponent.style[a],callback:function(e){t.$set(t.curComponent.style,a,e)},expression:"curComponent.style[key]"}},["textAlign"==a?t._l(t.textAlignOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):"borderStyle"==a?t._l(t.borderStyleOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):t._l(t.verticalAlignOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],2):n("el-input",{attrs:{type:"number"},model:{value:t.curComponent.style[a],callback:function(e){t.$set(t.curComponent.style,a,t._n(e))},expression:"curComponent.style[key]"}})],1)})),t.curComponent&&!t.excludes.includes(t.curComponent.component)?n("el-form-item",{attrs:{label:"内容"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.curComponent.propValue,callback:function(e){t.$set(t.curComponent,"propValue",e)},expression:"curComponent.propValue"}})],1):t._e()],2)],1)},yt=[],gt=(n("4de4"),{data:function(){return{excludes:["Picture","Group"],textAlignOptions:[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}],borderStyleOptions:[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"}],verticalAlignOptions:[{label:"上对齐",value:"top"},{label:"居中对齐",value:"middle"},{label:"下对齐",value:"bottom"}],selectKey:["textAlign","borderStyle","verticalAlign"],styleData:N["c"]}},computed:{styleKeys:function(){if(this.$store.state.curComponent){var t=Object.keys(this.$store.state.curComponent.style);return this.styleData.filter((function(e){return t.includes(e.key)}))}return[]},curComponent:function(){return this.$store.state.curComponent}}}),xt=gt,wt=(n("a3cd"),Object(I["a"])(xt,bt,yt,!1,null,"4cf1dd41",null)),St=wt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"animation-list"},[n("div",{staticClass:"div-animation"},[n("el-button",{on:{click:function(e){t.isShowAnimation=!0}}},[t._v("添加动画")]),n("el-button",{on:{click:t.previewAnimate}},[t._v("预览动画")]),n("div",t._l(t.curComponent.animations,(function(e,o){return n("el-tag",{key:o,attrs:{closable:""},on:{close:function(e){return t.removeAnimation(o)}}},[t._v(" "+t._s(e.label)+" "),n("i",{staticClass:"cursor el-icon-setting",on:{click:function(e){return t.handleAnimationSetting(o)}}})])})),1)],1),n("Modal",{model:{value:t.isShowAnimation,callback:function(e){t.isShowAnimation=e},expression:"isShowAnimation"}},[n("el-tabs",{model:{value:t.animationActiveName,callback:function(e){t.animationActiveName=e},expression:"animationActiveName"}},t._l(t.animationClassData,(function(e){return n("el-tab-pane",{key:e.label,attrs:{label:e.label,name:e.label}},[n("el-scrollbar",{staticClass:"animate-container"},t._l(e.children,(function(e){return n("div",{key:e.value,ref:e.value,refInFor:!0,staticClass:"animate",on:{mouseenter:function(n){return t.runAnimation(e)},click:function(n){return t.addAnimation(e)}}},[n("div",[t._v(" "+t._s(e.label)+" ")])])})),0)],1)})),1)],1),t.isShowAnimationSetting?n("AnimationSettingModal",{attrs:{"cur-index":t.curIndex},on:{close:function(e){t.isShowAnimationSetting=!1}}}):t._e()],1)},Ot=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"modal-bg",on:{click:t.hide}},[n("div",{staticClass:"fadeInLeft animated modal",on:{click:t.stopPropagation}},[t._t("default")],2)]):t._e()},jt=[],$t={model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},methods:{hide:function(){this.$emit("change")},stopPropagation:function(t){t.stopPropagation()}}},Et=$t,Lt=(n("a0db"),Object(I["a"])(Et,kt,jt,!1,null,"057883e4",null)),_t=Lt.exports,Dt=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedIn"},{label:"光速从右退出",value:"lightSpeedOut"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}];Dt.forEach((function(t){t.children.forEach((function(t){t.pending=!1,t.animationTime=1}))}));var It=Dt,Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.config.label+" 动画配置",visible:t.centerDialogVisible,width:"30%",center:""},on:{close:t.handleCloseModal}},[n("div",{staticClass:"time"},[t._v(" 动画时长："),n("el-input-number",{attrs:{"controls-position":"right",min:.1,precision:2,step:.01},model:{value:t.config.animationTime,callback:function(e){t.$set(t.config,"animationTime",e)},expression:"config.animationTime"}})],1),n("div",{staticClass:"loop"},[t._v(" 是否循环："),n("el-switch",{attrs:{"active-text":"是","inactive-text":"否",disabled:t.isDisabled},model:{value:t.config.isLoop,callback:function(e){t.$set(t.config,"isLoop",e)},expression:"config.isLoop"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleCloseModal}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.handleSaveSetting}},[t._v("确 定")])],1)])},At=[],Nt={name:"AnimationSettingModal",props:{curIndex:{type:Number,default:0}},data:function(){return{centerDialogVisible:!0,config:{}}},computed:Object(i["a"])(Object(i["a"])({},Object(l["b"])(["curComponent"])),{},{isDisabled:function(){return this.curComponent.animations.length>1}}),created:function(){var t=this.curComponent.animations[this.curIndex]||{},e=t.label,n=t.animationTime,o=t.isLoop,a=void 0!==o&&o,i=t.value;this.config={animationTime:n,label:e,isLoop:a,value:i}},methods:{handleCloseModal:function(){this.$emit("close")},handleSaveSetting:function(){var t=this.config.isLoop;this.$store.commit("alterAnimation",{index:this.curIndex,data:{animationTime:this.config.animationTime,isLoop:t}}),m["a"].$emit("stopAnimation"),this.handleCloseModal()}}},Pt=Nt,Tt=(n("6637"),Object(I["a"])(Pt,Mt,At,!1,null,"043aa3fa",null)),Rt=Tt.exports,Ft={components:{Modal:_t,AnimationSettingModal:Rt},data:function(){return{isShowAnimation:!1,hoverPreviewAnimate:"",animationActiveName:"进入",animationClassData:It,showAnimatePanel:!1,timer:null,isShowAnimationSetting:!1,curIndex:0}},computed:Object(l["b"])(["curComponent"]),methods:{addAnimation:function(t){this.$store.commit("addAnimation",t),this.isShowAnimation=!1},previewAnimate:function(){m["a"].$emit("runAnimation")},removeAnimation:function(t){this.$store.commit("removeAnimation",t),this.curComponent.animations.length||m["a"].$emit("stopAnimation")},handleAnimationSetting:function(t){this.isShowAnimationSetting=!0,this.curIndex=t},runAnimation:function(t){var e=this;return p(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.pending){n.next=2;break}return n.abrupt("return");case 2:return t.pending=!0,n.next=5,v(e.$refs[t.value][0],[t]);case 5:setTimeout((function(){t.pending=!1}),100);case 6:case"end":return n.stop()}}),n)})))()}}},Yt=Ft,Ut=(n("e285"),Object(I["a"])(Yt,Ct,Ot,!1,null,null,null)),Gt=Ut.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-list"},[n("div",{staticClass:"div-events"},[n("el-button",{on:{click:function(e){t.isShowEvent=!0}}},[t._v("添加事件")]),n("div",t._l(Object.keys(t.curComponent.events),(function(e){return n("el-tag",{key:e,attrs:{closable:""},on:{close:function(n){return t.removeEvent(e)}}},[t._v(" "+t._s(e)+" ")])})),1)],1),n("Modal",{model:{value:t.isShowEvent,callback:function(e){t.isShowEvent=e},expression:"isShowEvent"}},[n("el-tabs",{model:{value:t.eventActiveName,callback:function(e){t.eventActiveName=e},expression:"eventActiveName"}},t._l(t.eventList,(function(e){return n("el-tab-pane",{key:e.key,staticStyle:{padding:"0 20px"},attrs:{label:e.label,name:e.key}},["redirect"==e.key?n("el-input",{attrs:{type:"textarea",placeholder:"请输入完整的 URL"},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:e.param,callback:function(n){t.$set(e,"param",n)},expression:"item.param"}}):t._e(),"alert"==e.key?n("el-input",{attrs:{type:"textarea",placeholder:"请输入要 alert 的内容"},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:e.param,callback:function(n){t.$set(e,"param",n)},expression:"item.param"}}):t._e(),n("el-button",{staticStyle:{"margin-top":"20px"},on:{click:function(n){return t.addEvent(e.key,e.param)}}},[t._v("确定")])],1)})),1)],1)],1)},Bt=[],Vt=(n("0d03"),n("25f0"),{redirect:function(t){t&&(window.location.href=t)},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){t&&alert(t)}))}),zt={methods:Vt},qt=[{key:"redirect",label:"跳转事件",event:Vt.redirect,param:""},{key:"alert",label:"alert 事件",event:Vt.alert,param:""}],Wt={components:{Modal:_t},data:function(){return{isShowEvent:!1,eventURL:"",eventActiveName:"redirect",eventList:qt}},computed:Object(l["b"])(["curComponent"]),methods:{addEvent:function(t,e){this.isShowEvent=!1,this.$store.commit("addEvent",{event:t,param:e})},removeEvent:function(t){this.$store.commit("removeEvent",t)}}},Ht=Wt,Jt=(n("8cab"),Object(I["a"])(Ht,Xt,Bt,!1,null,"07377f5c",null)),Kt=Jt.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"toolbar"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"撤销","open-delay":500,placement:"bottom-start"}},[n("div",{staticClass:"btn icon",on:{click:t.undo}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentColor",d:"m6.05 7.25 2.22-2.22A.75.75 0 0 0 7.2 3.97L4.43 6.75c-.69.68-.69 1.8 0 2.48l2.83 2.83A.75.75 0 0 0 8.32 11L6.07 8.75H16a4.25 4.25 0 1 1 0 8.5h-4a.75.75 0 1 0 0 1.5h4a5.75 5.75 0 0 0 0-11.5H6.05z"}})])])]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"重做","open-delay":500,placement:"bottom-start"}},[n("div",{staticClass:"btn icon",on:{click:t.redo}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{fill:"currentColor",d:"m18.054 7.252-2.296-2.296a.75.75 0 0 1 1.06-1.06l2.83 2.828a1.75 1.75 0 0 1 0 2.475l-2.832 2.831a.75.75 0 0 1-1.06-1.06l2.219-2.22H8a4.25 4.25 0 0 0 0 8.5h4a.75.75 0 0 1 0 1.5H8a5.75 5.75 0 0 1 0-11.5h10c.018 0 .036 0 .054.002Z"}})])])]),n("el-popover",{attrs:{placement:"bottom-end",width:"500",trigger:"click"}},[n("div",{staticClass:"canvas-config"},[n("span",[t._v("画布大小:")]),n("div",{staticClass:"input"},[n("el-input",{attrs:{placeholder:"宽度"},model:{value:t.canvasStyleData.width,callback:function(e){t.$set(t.canvasStyleData,"width",e)},expression:"canvasStyleData.width"}},[n("template",{slot:"append"},[t._v("像素")])],2)],1),n("span",[t._v("*")]),n("div",{staticClass:"input"},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.canvasStyleData.height,callback:function(e){t.$set(t.canvasStyleData,"height",e)},expression:"canvasStyleData.height"}},[n("template",{slot:"append"},[t._v("像素")])],2)],1)]),n("div",{staticClass:"btn",attrs:{slot:"reference"},slot:"reference"},[t._v("调整尺寸")])]),n("label",{staticClass:"insert",attrs:{for:"input"}},[t._v("导入图片")]),n("input",{attrs:{id:"input",type:"file",hidden:""},on:{change:t.handleFileChange}}),n("el-button",{staticStyle:{"margin-left":"10px"},on:{click:t.preview}},[t._v("预览")]),n("el-button",{on:{click:t.save}},[t._v("保存")]),n("el-button",{on:{click:t.clearCanvas}},[t._v("清空画布")]),n("el-button",{attrs:{disabled:!t.areaData.components.length},on:{click:t.compose}},[t._v("组合")]),n("el-button",{attrs:{disabled:!t.curComponent||t.curComponent.isLock||"Group"!=t.curComponent.component},on:{click:t.decompose}},[t._v(" 拆分 ")]),n("el-button",{attrs:{disabled:!t.curComponent||t.curComponent.isLock},on:{click:t.lock}},[t._v("锁定")]),n("el-button",{attrs:{disabled:!t.curComponent||!t.curComponent.isLock},on:{click:t.unlock}},[t._v("解锁")])],1),n("Preview",{on:{change:t.handlePreviewChange},model:{value:t.isShowPreview,callback:function(e){t.isShowPreview=e},expression:"isShowPreview"}})],1)},Qt=[],te=(n("e9c4"),n("ac24")),ee=n("eae4"),ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"bg"},[n("el-button",{staticClass:"close",on:{click:t.close}},[t._v("关闭")]),n("div",{staticClass:"canvas-container"},[n("div",{staticClass:"canvas",style:{width:t.changeStyleWithScale(t.canvasStyleData.width)+"px",height:t.changeStyleWithScale(t.canvasStyleData.height)+"px"}},t._l(t.componentData,(function(t,e){return n("ComponentWrapper",{key:e,attrs:{config:t}})})),1)])],1):t._e()},oe=[],ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.handleClick}},[n(t.config.component,{ref:"component",tag:"component",staticClass:"component",style:t.getStyle(t.config.style),attrs:{"prop-value":t.config.propValue,element:t.config}})],1)},ie=[],re={mixins:[zt],props:{config:{type:Object,require:!0,default:function(){}}},mounted:function(){v(this.$refs.component.$el,this.config.animations)},methods:{getStyle:N["b"],handleClick:function(){var t=this,e=this.config.events;Object.keys(e).forEach((function(n){t[n](e[n])}))}}},ce=re,le=(n("a7ed"),Object(I["a"])(ce,ae,ie,!1,null,"219fd93b",null)),se=le.exports,ue={components:{ComponentWrapper:se},model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},computed:Object(l["b"])(["componentData","canvasStyleData"]),methods:{changeStyleWithScale:g["b"],getStyle:N["b"],close:function(){this.$emit("change",!1)}}},he=ue,de=(n("5339"),Object(I["a"])(he,ne,oe,!1,null,"da32f278",null)),me=de.exports,fe=n("7909"),pe={components:{Preview:me},data:function(){return{isShowPreview:!1,needToChange:["top","left","width","height","fontSize"],scale:"100%",timer:null}},computed:Object(l["b"])(["componentData","canvasStyleData","areaData","curComponent","curComponentIndex"]),created:function(){m["a"].$on("preview",this.preview),m["a"].$on("save",this.save),m["a"].$on("clearCanvas",this.clearCanvas),this.scale=this.canvasStyleData.scale,console.log(this.scale,"this.scale-----")},methods:{format:function(t){return Object(fe["b"])(t,Object(fe["a"])(parseFloat(this.scale),100))},getOriginStyle:function(t){return Object(fe["a"])(t,Object(fe["a"])(parseFloat(this.canvasStyleData.scale),100))},handleScaleChange:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.scale=~~t.scale||1;var e=Object(P["b"])(t.componentData);e.forEach((function(e){Object.keys(e.style).forEach((function(n){t.needToChange.includes(n)&&(e.style[n]=t.format(t.getOriginStyle(e.style[n])))}))})),t.$store.commit("setComponentData",e),t.$store.commit("setCurComponent",{component:e[t.curComponentIndex],index:t.curComponentIndex}),t.$store.commit("setCanvasStyle",Object(i["a"])(Object(i["a"])({},t.canvasStyleData),{},{scale:t.scale}))}),1e3)},lock:function(){this.$store.commit("lock")},unlock:function(){this.$store.commit("unlock")},compose:function(){this.$store.commit("compose"),this.$store.commit("recordSnapshot")},decompose:function(){this.$store.commit("decompose"),this.$store.commit("recordSnapshot")},undo:function(){this.$store.commit("undo")},redo:function(){this.$store.commit("redo")},handleFileChange:function(t){var e=this,n=t.target.files[0];if(n.type.includes("image")){var o=new FileReader;o.onload=function(t){var n=t.target.result,o=new Image;o.onload=function(){e.$store.commit("addComponent",{component:Object(i["a"])(Object(i["a"])({},dt["commonAttr"]),{},{id:Object(te["a"])(),component:"Picture",label:"图片",icon:"",propValue:n,style:Object(i["a"])(Object(i["a"])({},dt["commonStyle"]),{},{top:0,left:0,width:o.width,height:o.height})})}),e.$store.commit("recordSnapshot"),document.querySelector("#input").setAttribute("type","text"),document.querySelector("#input").setAttribute("type","file")},o.src=n},o.readAsDataURL(n)}else Object(ee["a"])("只能插入图片")},preview:function(){this.isShowPreview=!0,this.$store.commit("setEditMode","preview")},save:function(){localStorage.setItem("canvasData",JSON.stringify(this.componentData)),localStorage.setItem("canvasStyle",JSON.stringify(this.canvasStyleData)),this.$message.success("保存成功")},clearCanvas:function(){this.$store.commit("setCurComponent",{component:null,index:null}),this.$store.commit("setComponentData",[]),this.$store.commit("recordSnapshot")},handlePreviewChange:function(){this.$store.commit("setEditMode","edit")}}},ve=pe,be=(n("5586"),Object(I["a"])(ve,Zt,Qt,!1,null,"6d528a3a",null)),ye=be.exports,ge=n("2c7d"),xe={components:{Editor:st,ComponentList:vt,AttrList:St,AnimationList:Gt,EventList:Kt,Toolbar:ye},data:function(){return{activeName:"attr",reSelectAnimateIndex:void 0,scale:100}},computed:Object(l["b"])(["componentData","curComponent","isClickComponent","canvasStyleData","editor","curComponentIndex"]),created:function(){this.restore(),Object(ge["b"])(),this.scale=this.canvasStyleData.scale},methods:{restore:function(){localStorage.getItem("canvasData")&&this.$store.commit("setComponentData",this.resetID(JSON.parse(localStorage.getItem("canvasData")))),localStorage.getItem("canvasStyle")&&this.$store.commit("setCanvasStyle",JSON.parse(localStorage.getItem("canvasStyle")))},resetID:function(t){var e=this;return t.forEach((function(t){t.id=Object(te["a"])(),"Group"===t.component&&e.resetID(t.propValue)})),t},handleDrop:function(t){t.preventDefault(),t.stopPropagation();var e=t.dataTransfer.getData("index"),n=this.editor.getBoundingClientRect();if(e){var o=Object(P["b"])(dt["default"][e]);o.style.top=t.clientY-n.y,o.style.left=t.clientX-n.x,o.id=Object(te["a"])(),this.$store.commit("addComponent",{component:o}),this.$store.commit("recordSnapshot")}},handleDragOver:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy"},handleMouseDown:function(t){t.stopPropagation(),this.$store.commit("setClickComponentStatus",!1),this.$store.commit("setInEditorStatus",!0)},deselectCurComponent:function(t){this.isClickComponent||this.$store.commit("setCurComponent",{component:null,index:null}),2!=t.button&&this.$store.commit("hideContextMenu")},format:function(t){return Object(fe["b"])(t,Object(fe["a"])(parseFloat(this.scale),100))},handleScaleChange:function(){var t=this;clearTimeout(this.timer),console.log("发生修改----"),this.timer=setTimeout((function(){t.scale=~~t.scale||1;var e=Object(P["b"])(t.componentData);e.forEach((function(e){Object.keys(e.style).forEach((function(n){t.needToChange.includes(n)&&(e.style[n]=t.format(t.getOriginStyle(e.style[n])))}))})),t.$store.commit("setComponentData",e),t.$store.commit("setCurComponent",{component:e[t.curComponentIndex],index:t.curComponentIndex}),t.$store.commit("setCanvasStyle",Object(i["a"])(Object(i["a"])({},t.canvasStyleData),{},{scale:t.scale}))}),1e3)}}},we=xe,Se=(n("6d16"),Object(I["a"])(we,o,a,!1,null,"e4734732",null));e["default"]=Se.exports},c3f9:function(t,e,n){"use strict";n("d50f")},d50f:function(t,e,n){},d784:function(t,e,n){"use strict";n("ac1f");var o=n("e330"),a=n("6eeb"),i=n("9263"),r=n("d039"),c=n("b622"),l=n("9112"),s=c("species"),u=RegExp.prototype;t.exports=function(t,e,n,h){var d=c(t),m=!r((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),f=m&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!m||!f||n){var p=o(/./[d]),v=e(d,""[t],(function(t,e,n,a,r){var c=o(t),l=e.exec;return l===i||l===u.exec?m&&!r?{done:!0,value:p(e,n,a)}:{done:!0,value:c(n,e,a)}:{done:!1}}));a(String.prototype,t,v[0]),a(u,d,v[1])}h&&l(u[d],"sham",!0)}},e285:function(t,e,n){"use strict";n("ee2e")},e9c4:function(t,e,n){var o=n("23e7"),a=n("da84"),i=n("d066"),r=n("2ba4"),c=n("e330"),l=n("d039"),s=a.Array,u=i("JSON","stringify"),h=c(/./.exec),d=c("".charAt),m=c("".charCodeAt),f=c("".replace),p=c(1..toString),v=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,g=function(t,e,n){var o=d(n,e-1),a=d(n,e+1);return h(b,t)&&!h(y,a)||h(y,t)&&!h(b,o)?"\\u"+p(m(t,0),16):t},x=l((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&o({target:"JSON",stat:!0,forced:x},{stringify:function(t,e,n){for(var o=0,a=arguments.length,i=s(a);o<a;o++)i[o]=arguments[o];var c=r(u,null,i);return"string"==typeof c?f(c,v,g):c}})},ee2e:function(t,e,n){},f87d:function(t,e,n){},fc1a:function(t,e,n){"use strict";n("a0f8")}}]);
//# sourceMappingURL=chunk-6b8655be.0887301f.js.map